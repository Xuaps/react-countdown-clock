{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 993a74f02a0401cfcd24","webpack:///./react-countdown-clock.coffee","webpack:///external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}"],"names":[],"mappings":"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","file":"react-countdown-clock.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 993a74f02a0401cfcd24\n **/","React  = require 'react'\n\n_radius   = null\n_fraction = null\n_context  = null\n_canvas   = null\n_timer    = null\n\nmodule.exports = React.createClass\n  propTypes:\n    seconds: React.PropTypes.number\n    size: React.PropTypes.number\n    color: React.PropTypes.string\n    alpha: React.PropTypes.number\n    onComplete: React.PropTypes.func\n\n  getDefaultProps: ->\n    seconds: 60\n    size: 300\n    color: '#000'\n    alpha: 1\n\n  getInitialState: ->\n    seconds: @props.seconds\n\n  componentWillReceiveProps: (props) ->\n    @_setScale()\n    @_setupCanvas()\n    @_drawTimer()\n    @_startTimer()\n    @setState seconds: props.seconds\n\n  componentWillUnmount: ->\n    clearTimeout(_timer)\n\n  componentDidMount: ->\n    @_setScale()\n    @_setupCanvas()\n    @_drawTimer()\n    @_startTimer()\n\n  componentDidUpdate: ->\n    @_setScale()\n    @_clearTimer()\n    @_drawTimer()\n    if @state.seconds <= 0\n      @_handleComplete()\n\n  _setScale: ->\n    _radius   = @props.size / 2\n    _fraction = 2 / @props.seconds\n\n  _setupCanvas: ->\n    _canvas  = @getDOMNode()\n    _context = _canvas.getContext '2d'\n    _context.textAlign = 'center'\n    _context.textBaseline = 'middle'\n    _context.font = \"bold #{_radius/2}px Arial\"\n\n  _startTimer: ->\n    # Give it a moment to collect it's thoughts for smoother render\n    _timer = setTimeout ( => @_tick() ), 200\n\n  _tick: ->\n    start = Date.now()\n    setTimeout ( =>\n      duration = Date.now() - start\n      @setState\n        seconds: Math.max(0,@state.seconds - duration / 1000)\n      @_tick() unless @state.seconds <= 0\n    ), 30\n\n  _handleComplete: ->\n    if @props.onComplete\n      @props.onComplete()\n\n  _clearTimer: ->\n    clearTimeout(_timer)\n    _context.clearRect 0, 0, _canvas.width, _canvas.height\n    @_drawBackground()\n\n  _drawBackground: ->\n    _context.beginPath()\n    _context.globalAlpha = @props.alpha / 3\n    _context.arc _radius, _radius, _radius,     0,           Math.PI * 2, false\n    _context.arc _radius, _radius, _radius/1.8, Math.PI * 2, 0,           true\n    _context.fill()\n\n  _drawTimer: ->\n    percent = _fraction * @state.seconds + 1.5\n    decimals = (@state.seconds <= 9.9) ? 1 : 0\n    _context.globalAlpha = @props.alpha\n    _context.fillStyle = @props.color\n    _context.fillText @state.seconds.toFixed(decimals), _radius, _radius\n    _context.beginPath()\n    _context.arc _radius, _radius, _radius,     Math.PI * 1.5,     Math.PI * percent, false\n    _context.arc _radius, _radius, _radius/1.8, Math.PI * percent, Math.PI * 1.5,     true\n    _context.fill()\n\n  render: ->\n    React.createElement(\"canvas\", {\"className\": \"react-countdown-clock\", \"width\": (@props.size), \"height\": (@props.size)})\n\n\n\n/** WEBPACK FOOTER **\n ** ../~/cjsx-loader!./react-countdown-clock.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}